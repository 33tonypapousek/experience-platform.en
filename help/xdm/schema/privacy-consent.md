---
keywords: Experience Platform;profile;real-time customer profile;troubleshooting;API;consent;Consent;preferences;Preferences;privacyOptOuts;marketingPreferences;optOutType;basisOfProcessing;consent;Consent
title: Privacy mixin overview
description: The Privacy/Marketing Preferences (Consent) mixin is an Experience Data Model (XDM) mixin that is intended to support the collection of user permissions and preferences generated by CMPs and other sources from customers. This document covers the structure and intended use of the various fields provided by the mixin.
topic: guide
---

# [!DNL Privacy Consent] data type overview

The [!DNL Privacy/Marketing Preferences (Consent)] data type (hereinafter referred to as the "[!DNL Privacy Consent] data type") is an [!DNL Experience Data Model] (XDM) data type that is intended to support the collection of user permissions and preferences generated by Consent Management Platforms (CMPs) and other sources from customers. 

This document covers the structure and intended use of the common fields provided by the [!DNL Privacy Consent] data type.

## Prerequisites {#prerequisites}

This document requires a working understanding of XDM and the use of the schemas in [!DNL Experience Platform]. Please review the following documentation before continuing:

* [XDM System overview](http://www.adobe.com/go/xdm-home-en)
* [Basics of schema composition](http://www.adobe.com/go/xdm-schema-best-practices-en)

## [!DNL Privacy Consent] data type structure {#structure}

The [!DNL Privacy Consent] data type provides several fields used to capture consent information. The following JSON shows an example of the type of data the [!DNL Privacy Consent] data type is able to process. Information on the specific use of each of these fields is provided later in this section.

>[!NOTE]
>
>The example below is meant to illustrate the structure of the data that is sent to [!DNL Platform] via the [!DNL Privacy Consent] data type, in order to give context to the rest of this section which explains the major fields provided by the mixin. A the full schema for the data type's structure can found in the [appendix](#full-schema) for reference purposes.

```json
{
  "xdm:choices": {
    "xdm:consents": {
      "xdm:dataCollection": {
        "xdm:choice": "yes",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "consent"
      },
      "xdm:sellData": {
        "xdm:choice": "yes",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "consent"
      },
      "xdm:shareData": {
        "xdm:choice": "yes",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "consent"
      },
      "xdm:deviceLinking": {
        "xdm:basisOfProcessing": "vital_interest"
      },
      "xdm:pseudonymousAnalysis": {
        "xdm:choice": "no"
      }
    },
    "xdm:personalizationPreferences": {
      "xdm:anyPersonalization": {
        "xdm:choice": "yes",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "consent"
      }
    },
    "xdm:marketingPreferences": {
      "xdm:preferredChannel": "email",
      "xdm:anyMarketing": {
        "xdm:choice": "unknown"
      },
      "xdm:iotMessages": {
        "xdm:choice": "yes",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "legitimate_interest"
      },
      "xdm:pushNotifications": {
        "xdm:choice": "yes",
        "xdm:source": "OurApp"
      },
      "xdm:email": {
        "xdm:choice": "no",
        "xdm:reason": "Too Frequent"
      }
    }
  },
  "xdm:choicesMetadata": {
    "xdm:version": "1.0.0",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:userCountryRegionCode": "US",
    "xdm:countryRegionSource": "ip",
    "xdm:source": "CJM"
  }
}
```

### xdm:consents {#consents}

The `xdm:consents` object captures general privacy consent settings selected by the customer. Each sub-field represents a specific data processing use case and the preferences the customer has selected for that use case.

```json
"xdm:consents": {
  "xdm:dataCollection": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  },
  "xdm:sellData": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  },
  "xdm:shareData": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  },
  "xdm:deviceLinking": {
    "xdm:basisOfProcessing": "vital_interest"
  },
  "xdm:pseudonymousAnalysis": {
    "xdm:choice": "no"
  }
}
```

| Property | Description |
| --- | --- |
| `xdm:dataCollection` | Represents the customer's preferences for data collection. |
| `xdm:sellData` | Represents the customer's preferences for having their data sold to third parties. If your business does not distinguish selling data from sharing data, the customer must also opt in for `xdm:shareData`. |
| `xdm:shareData` | Represents the customer's preferences for having their data shared with third parties. If your business does not distinguish selling data from sharing data, the customer must also opt in for `xdm:sellData`. |
| `xdm:deviceLinking` | Represents the customer's preferences for device linking. |
| `xdm:pseudonymousAnalysis` | Represents the customer's preferences for pseudonymous data analysis. |
| `xdm:choice` | The customer-provided consent preference for the specified use case. See the [appendix](#choice-values) for accepted values and definitions. |
| `xdm:timestamp` | An ISO 8601 timestamp of when the opt-out preference changed, if applicable. |
| `xdm:basisOfProcessing` | Indicates the privacy-related basis by which the data should be collected and processed. By default, this field is set to `consent`, which indicates that the data should only be processed if the user has provided consent (as reflected in `xdm:choice`).<br><br>In some circumstances, customers do not have be prompted to provide consent for personalization. `xdm:basisOfProcessing` must be included in the applicable consent option in these cases, indicating the reason why a consent prompt was not provided. See the [appendix](#basisOfProcessing-values) for accepted values and definitions. |

### xdm:personalizationPreferences {#personalizationPreferences}

`xdm:personalizationPreferences` captures customer preferences regarding which ways their data can be used for personalization. Users can opt out of specific personalization use cases, or opt out of personalization entirely.

>[!IMPORTANT]
>
>`xdm:personalizationPreferences` does not cover marketing use cases. For example, if a customer opts out of personalization for emails, they will not stop receiving emails. Rather, the emails they receive will be generic and not based on their profile.
>
>By the same example, if a customer opts out of email marketing (through `xdm:marketingPreferences`, explained in the [next section](#marketingPreferences)), then that customer will not receive any emails, even if email personalization is permitted.

```json
"xdm:personalizationPreferences": {
  "xdm:anyPersonalization": {
    "xdm:choice": "no"
  },
  "xdm:content": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  },
  "xdm:inAppMesages": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  },
  "xdm:offers": {
    "xdm:choice": "no"
  },
  "xdm:email": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  },
  "xdm:physicalMail": {
    "xdm:choice": "no"
  },
  "xdm:phoneCalls": {
    "xdm:choice": "no"
  },
  "xdm:customerSupport": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  },
  "xdm:pushNotifications": {
    "xdm:choice": "no"
  },
  "xdm:sms": {
    "xdm:choice": "no"
  },
  "xdm:inStore": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  },
  "xdm:inVehicle": {
    "xdm:choice": "no"
  },
  "xdm:inHome": {
    "xdm:choice": "no"
  },
  "xdm:iotDevices": {
   "xdm:choice": "no"
  },
  "xdm:socialMedia": {
   "xdm:choice": "no"
  },
  "xdm:thirdPartyOffers": {
    "xdm:choice": "no"
  },
  "xdm:thirdPartyContent": {
    "xdm:choice": "no"
  },
  "xdm:advertising": {
    "xdm:choice": "yes",
    "xdm:timestamp": "2019-01-01T15:52:25+00:00",
    "xdm:basisOfProcessing": "consent"
  }
}
```

| Property | Description |
| --- | --- |
| `xdm:anyPersonalization` | Represents the customer's preferences for personalization as a whole. The consent preference provided in this field is considered the "default" preference for any personalization use case, unless overridden by additional sub-fields provided under `xdm:personalizationPreferences`. |
| `xdm:content` | Represents the customer's preferences for content personalization. |
| `xdm:inAppMessages` | Represents the customer's preferences for in-app message personalization. |
| `xdm:offers` | Represents the customer's preferences for offer personalization. |
| `xdm:email` | Represents the customer's preferences for email personalization. |
| `xdm:physicalMail` | Represents the customer's preferences for physical mail personalization. |
| `xdm:phoneCalls` | Represents the customer's preferences for phone call personalization. |
| `xdm:customerSupport` | Represents the customer's preferences for customer support personalization. |
| `xdm:pushNotifications` | Represents the customer's preferences for push notification personalization. |
| `xdm:sms` | Represents the customer's preferences for SMS (text message) personalization. |
| `xdm:inStore` | Represents the customer's preferences for in-store personalization. |
| `xdm:inVehicle` | Represents the customer's preferences for in-vehicle personalization. |
| `xdm:inHome` | Represents the customer's preferences for in-home personalization. |
| `xdm:iotDevices` | Represents the customer's preferences for IoT device personalization. |
| `xdm:socialMedia` | Represents the customer's preferences for social media personalization. |
| `xdm:thirdPartyOffers` | Represents the customer's preferences for third-party offer personalization. |
| `xdm:thirdPartyContent` | Represents the customer's preferences for third-party content personalization. |
| `xdm:advertising` | Represents the customer's preferences for advertising personalization. |
| `xdm:choice` | The customer-provided preference for a consent option. See the [appendix](#choice-values) for accepted values and definitions. |
| `xdm:timestamp` | An ISO 8601 timestamp of when the opt-out preference changed, if applicable. |
| `xdm:basisOfProcessing` | Indicates the privacy-related basis by which the data should be collected and processed. By default, this field is set to `consent`, which indicates that the data should only be processed if the user has provided consent (as reflected in `xdm:choice`).<br><br>In some circumstances, customers do not have be prompted to provide consent for personalization. `xdm:basisOfProcessing` must be included in the opt-out object in these cases, indicating the reason why a consent prompt was not provided. See the [appendix](#basisOfProcessing-values) for accepted values and definitions. |


### xdm:marketingPreferences {#marketingPreferences}

`xdm:marketingPreferences` captures customer preferences regarding what marketing purposes their data can be used for. Users can opt out of specific marketing use cases, or opt out of direct marketing entirely.

```json
"xdm:marketingPreferences": {
  "xdm:preferredChannel": "email",
  "xdm:anyMarketing": {
    "xdm:choice": "unknown"
  },
  "xdm:email": {
    "xdm:choice": "no",
    "xdm:reason": "Too Frequent"
  },
  "xdm:pushNotifications": {
    "xdm:choice": "yes",
    "xdm:source": "OurApp"
  },
  "xdm:inAppMessages": {
    "xdm:choice": "yes",
    "xdm:source": "OurApp"
  },
  "xdm:sms": {
    "xdm:choice": "yes",
    "xdm:source": "OurApp"
  },
  "xdm:phoneCalls": {
    "xdm:choice": "no",
    "xdm:reason": "Too invasive"
  },
  "xdm:physicalMail": {
    "xdm:choice": "yes",
    "xdm:source": "OurApp"
  },
  "xdm:inVehicleMessages": {
    "xdm:choice": "yes",
    "xdm:source": "OurApp"
  },
  "xdm:inHomeMessages": {
    "xdm:choice": "yes",
    "xdm:source": "OurApp"
  },
  "xdm:iotMessages": {
    "xdm:choice": "not_applicable"
  },
  "xdm:socialMedia": {
    "xdm:choice": "yes",
    "xdm:source": "OurApp"
  },
}
```

| Property | Description |
| --- | --- |
| `xdm:preferredChannel` | Indicates the customer's preferred channel for receiving communications. See the [appendix](#preferredChannel-values) for accepted values. |
| `xdm:anyMarketing` | Represents the customer's preferences for marketing as a whole. The consent preference provided in this field is considered the "default" preference for any marketing use case, unless overridden by additional sub-fields provided under `xdm:marketingPreferences`.  |
| `xdm:email` | Represents the customer's preferences for email marketing. | 
| `xdm:pushNotifications` | Represents the customer's preferences for push notification marketing. | 
| `xdm:inAppMessages` | Represents the customer's preferences for in-app message marketing. | 
| `xdm:sms` | Represents the customer's preferences for SMS marketing. | 
| `xdm:phoneCalls` | Represents the customer's preferences for phone marketing. | 
| `xdm:physicalMail` | Represents the customer's preferences for physical mail marketing. | 
| `xdm:inVehicleMessages` | Represents the customer's preferences for in-vehicle message marketing. | 
| `xdm:inHomeMessages` | Represents the customer's preferences for in-home message marketing. | 
| `xdm:iotMessages` | Represents the customer's preferences for IoT message marketing. | 
| `xdm:socialMedia` | Represents the customer's preferences for social media marketing. | 
| `xdm:choice` | The customer-provided preference for a consent option. See the [appendix](#choice-values) for accepted values and definitions. |
| `xdm:timestamp` | An ISO 8601 timestamp of when the opt-out preference changed, if applicable. |
| `xdm:basisOfProcessing` | Indicates the privacy-related basis by which the data should be collected and processed. By default, this field is set to `consent`, which indicates that the data should only be processed if the user has provided consent (as reflected in `xdm:choice`).<br><br>In some circumstances, customers do not have be prompted to provide consent for direct marketing. `xdm:basisOfProcessing` must be included in the opt-out object in these cases, indicating the reason why a consent prompt was not provided. See the [appendix](#basisOfProcessing-values) for accepted values and definitions. |
| `xdm:source` | A string that indicates which feature, product, or method the customer used to provide their consent information. Common examples include customer management platforms (CMPs) and opt-out links sent via email. |
| `xdm:reason` | When a user opts out of a marketing use case, this string field represents the reason why the user opted out. |

### xdm:choicesMetadata

Separate from `xdm:choices`, `xdm:choicesMetadata` captures general metadata about the customer's consent preferences whenever they were last updated.

```json
"xdm:choicesMetadata": {
  "xdm:version": "1.0.0",
  "xdm:timestamp": "2019-01-01T15:52:25+00:00",
  "xdm:userCountryRegionCode": "US",
  "xdm:countryRegionSource": "ip",
  "xdm:source": "CJM"
}
```

| Property | Description |
| --- | --- |
| `xdm:version` | The version of the Privacy Consent schema being used. |
| `xdm:timestamp` | A timestamp for the last time any of the user's consent preferences were updated. This field can be used instead of applying timestamps to individual consent preference options in order to reduce load and complexity. |
| `xdm:userCountryRegionCode` | The ISO 3166 alpha2 country code, or ISO 3166-2 country plus state/province code, which represents the user country of origin, in order to better determine which legal privacy requirements are applicable. |
| `xdm:countryRegionSource` | The method used to determine the user's country or region. See the [appendix](#countryRegionSource-values) for accepted values. |
| `xdm:source` | A string that indicates which feature, product, or method the customer used to provide their consent information. Common examples include customer management platforms (CMPs) and opt-out links sent via email. |

## Ingesting data using consent schemas {#ingest}

In order to use the [!DNL Privacy Consent] data type to ingest consent data from your customers, you must create a dataset based on a schema that contains that data type.

See the tutorial on [creating a schema in the UI](http://www.adobe.com/go/xdm-schema-editor-tutorial-en) for steps on how to assign data types to fields. Once you have created a schema containing a field with the [!DNL Privacy Consent] data type, refer to the the section on [creating a dataset](../../catalog/datasets/user-guide.md#create) in the dataset user guide, following the steps to create a dataset with an existing schema.

>[!IMPORTANT]
>
>If you want to send consent data to [!DNL Real-time Customer Profile], it is required that you create a [!DNL Profile]-enabled schema based on the [!DNL XDM Individual Profile] class that contains the [!DNL Profile Consent] data type. The dataset that you create based on that schema must also be enabled for [!DNL Profile]. Refer to the tutorials above for specific steps related to [!DNL Real-time Customer Profile] requirements.

## Appendix {#appendix}

The sections below provide additional reference information regarding the [!DNL Privacy Consent] data type.

### Accepted values for xdm:choice {#choice-values}

The following table outlines the accepted values for `xdm:choice` and `xdm:optOutValue`:

| Value | Description |
| --- | --- |
| `pending` | The system has not received consent-preference information from the customer yet. Can be used for the first page of a website while consent is being obtained. It can also be used to indicate that consent is "assumed", rather than explicitly provided. |
| `yes` | The user has opted in to the consent preference. In other words, they **do** consent to the use of their data as indicated by the consent preference in question. |
| `no` | The user has opted out of the consent preference. In other words, they **do not** consent to the use of their data as indicated by the consent preference in question. |
| `not_applicable` | The consent preference in question does not apply to the customer. |
| `unknown` | The customer's consent-preference information is unknown. |

### Accepted values for xdm:basisOfProcessing {#basisOfProcessing-values}

The following table outlines the accepted values for `xdm:basisOfProcessing`:

| Value | Description |
| --- | --- |
| `consent` **(Default)** | The collection of data for the specified purpose is allowed, given that the individual has provided explicit permission. This is the default value of `xdm:basisOfProcessing` if no other value is provided. <br><br>**IMPORTANT**: The value for `xdm:choice` is only honored when `xdm:basisOfProcessing` is set to `consent`. If any of the other values outlined in this table are used for `xdm:basisOfProcessing` instead, the individual's consent choices are ignored. |
| `compliance` | The collection of data for the specified purpose is required to meet the legal obligations of the business. |
| `contract` | The collection of data for the specified purpose is required to meet contractual obligations with the individual. |
| `legitimate_interest` | The legitimate business interest to collect and process this data for the specified purpose outweighs the potential harm it poses to the individual. |
| `public_interest` | The collection of data for the specified purpose is required to carry out a task in the public interest or in the exercise of official authority. |
| `vital_interest` | The collection of data for the specified purpose is required to protect the vital interests of the individual. |

### Accepted values for xdm:preferredChannel {#preferredChannel-values}

The following table outlines the accepted values for `xdm:preferredChannel`:

| Value | Description |
| --- | --- |
| `email` | Email messages. |
| `iot_messages` | Internet of things (IoT) messages. |
| `in_app_messages` | In-app messages. |
| `in_home_messages` | In-home messages. |
| `inVehicle_messages` | In-vehicle messages. |
| `phone_calls` | Phone call interactions. |
| `physical_mail` | Physical mail. |
| `push_notifications` | Push notifications. |
| `sms` | SMS messages. |
| `social_media` | Social media content. |
| `other` | A channel that does not fit into a standard category. |
| `none` | No preferred channel. |
| `unknown` | The preferred channel is unknown. |

### Accepted values for xdm:countryRegionSource {#countryRegionSource-values}

The following table outlines the accepted values for `xdm:countryRegionSource`:

| Value | Description |
| --- | --- |
| `ip` | IP address |
| `gps ` | Device GPS |
| `user_provided` | User-provided address |
| `website_location` | Website location or eTLD |
| `inferred` | Inferred |
| `other ` | Other |


### Full [!DNL Privacy Consent] schema example {#full-schema}

To view the full schema for the [!DNL Privacy Consent] data type, refer to the [official XDM repository](https://github.com/adobe/xdm/blob/master/components/datatypes/consentpreferences.schema.json).