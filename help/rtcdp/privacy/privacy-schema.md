---
keywords: Experience Platform;profile;real-time customer profile;troubleshooting;API
solution: Adobe Experience Platform
title: Privacy mixin overview
topic: guide
---

# Privacy Consent mixin overview

The Privacy/Marketing Preferences (Consent) mixin (hereinafter referred to as the "Privacy Consent mixin") is an Experience Data Model (XDM) mixin that is intended to support the collection of user permissions and preferences generated by CMPs from customers. This document covers the structure and intended use of the various fields provided by the mixin.

The following topics are covered:

* [Schema example](#schema-example)
* [Fields](#fields)
  * [xdm:privacyOptOuts](#xdmprivacyoptouts)
  * [xdm:personalizationPreferences](#xdmpersonalizationpreferences)
  * [xdm:marketingPreferences](#xdmmarketingpreferences)
* [Ingesting consent data using the mixin](#ingesting-consent-data-using-the-mixin)
* [Appendix](#appendix)
  * [Full Privacy Consent schema](#full-privacy-consent-schema)

## Prerequisites

This document requires a working understanding of Experience Data Model (XDM) and the use of the schemas in Experience Platform. Please review the following documentation before continuing:

* [XDM System overview](http://www.adobe.com/go/xdm-home-en)
* [Basics of schema composition](http://www.adobe.com/go/xdm-schema-best-practices-en)

## Schema example

>**NOTE**:
>
>The example below is meant to illustrate the structure of the data that is sent to Platform via the Privacy Consent mixin, in order to give context to the next section in this document which explains the major fields provided by the mixin. A complete example of the schema's structure can found in the [appendix](#full-privacy-consent-schema) for reference purposes.

The following JSON shows an example of the type of data the Privacy Consent mixin is able to process. Information on the specific use of each of these fields is provided in the next section.

```json
{
  "xdm:privacyOptOuts": [
     {
        "xdm:optOutType": "general_opt_out",
        "xdm:optOutValue": "in",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "legitimate_interest"
     },
     {
        "xdm:optOutType": "device_linking",
        "xdm:optOutValue": "not_provided",
        "xdm:basisOfProcessing": "vital_interest"
     },
     {
        "xdm:optOutType": "anonymous_analysis",
        "xdm:optOutValue": "out"
     }
  ],
  "xdm:personalizationPreferences": {
     "xdm:default": {
        "xdm:choice": "unknown",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "consent"
     },
     "xdm:details": [
        {
           "xdm:type": "email",
           "xdm:choice": "in"
        },
        {
           "xdm:type": "push_notifications",
           "xdm:choice": "out",
           "xdm:basisOfProcessing": "legitimate_interest",
           "xdm:timestamp": "2019-01-01T15:52:25+00:00"
        }
     ]
  },
  "xdm:marketingPreferences": {
     "xdm:default": {
        "xdm:choice": "unknown"
     },
     "xdm:details": [
        {
           "xdm:type": "email",
           "xdm:choice": "in",
           "xdm:subscriptions": {
              "weekly_mailer": {
                 "xdm:choice": "out",
                 "xdm:timestamp": "2019-02-03T15:52:25+00:00"
              },
              "daily_newsletter": {
                 "xdm:choice": "pending"
              }
           }
        },
        {
           "xdm:type": "iot",
           "xdm:choice": "out",
           "xdm:timestamp": "2019-01-01T15:52:25+00:00",
           "xdm:basisOfProcessing": "legitimate_interest",
           "xdm:subscriptions": {
              "out_of_milk": {
                 "xdm:choice": "in"
              }
           }
        }
     ]
  },
  "xdm:version": "1.0.0",
  "xdm:timestamp": "2019-01-01T15:52:25+00:00",
  "xdm:userLocale": "UK",
  "xdm:localeSource": "ip"
}
```

## Fields

The sections below cover the use of each of the major fields provided by the Privacy Consent mixin, and how their subfields should be structured.

### xdm:privacyOptOuts

`xdm:privacyOptOuts` is an array that represents general opt-out settings selected by the customer. Several objects can be included in this array, each representing a specific opt-out type and the preferences the customer has selected for that type.

```json
"xdm:privacyOptOuts": [
     {
        "xdm:optOutType": "general_opt_out",
        "xdm:optOutValue": "in",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "legitimate_interest"
     },
     {
        "xdm:optOutType": "device_linking",
        "xdm:optOutValue": "not_provided",
        "xdm:basisOfProcessing": "vital_interest"
     },
     {
        "xdm:optOutType": "anonymous_analysis",
        "xdm:optOutValue": "out"
     }
  ]
```

| Property | Description |
| --- | --- |
| `xdm:optOutType` | The type of opt-out. Available opt-out types include: <ul><li>`general_opt_out`</li><li>`sales_sharing_opt_out`</li><li>`anonymous_analysis`</li><li>`pseudonymous_analysis`</li><li>`device_linking`</li></ul> |
| `xdm:optOutValue` | The selected preference the customer has chosen for this particular opt-out type. Accepted opt-out values include: <ul><li>`in`</li><li>`out`</li><li>`not_provided`</li></ul>|
| `xdm:timestamp` | An ISO 8601 timestamp of when the opt-out preference changed, if applicable. |
| `xdm:basisOfProcessing` | In some circumstances, customers do not have be prompted to provide consent for data processing. `xdm:basisOfProcessing` must be included in the opt-out object in these cases, indicating the reason why a consent prompt was not provided. Accepted values include: <ul><li>`consent`</li><li>`legitimate_interest`</li><li>`contract`</li><li>`vital_interest`</li><li>`compliance`</li><li>`public_interest`</li></ul>  |

### xdm:personalizationPreferences

`xdm:personalizationPreferences` captures customer preferences regarding which ways their data can be used for personalization. Users can opt out of specific personalization use cases, or opt out of personalization entirely.

```json
"xdm:personalizationPreferences": {
     "xdm:default": {
        "xdm:choice": "unknown",
        "xdm:timestamp": "2019-01-01T15:52:25+00:00",
        "xdm:basisOfProcessing": "consent"
     },
     "xdm:details": [
        {
           "xdm:type": "email",
           "xdm:choice": "in"
        },
        {
           "xdm:type": "push_notifications",
           "xdm:choice": "out",
           "xdm:basisOfProcessing": "legitimate_interest",
           "xdm:timestamp": "2019-01-01T15:52:25+00:00"
        }
     ]
  }
```

| Property | Description |
| --- | --- |
| `xdm:default` | The data provided in this object represents the customer's preferences for personalization as a whole. |
| `xdm:details` | An array of objects, one for each specific personalization type that the customer has provided preferences for. |
| `xdm:choice` | The customer-provided consent preference for personalization in general, or a specific personalization type, depending on whether it is provided under `xdm:default` or `xdm:details`, respectively. Accepted values include: <ul><li>`not_provided`</li><li>`pending`</li><li>`in`</li><li>`out`</li><li>`unknown`</li><li>`not_applicable`</li></ul> |
| `xdm:type` | Objects in the `xdm:details` array must provide this field to indicate the specific personalization use the customer is providing consent data for. Available types include: <ul><li>`email`</li><li>`push_notifications`</li><li>`in_app_messages`</li><li>`sms`</li><li>`phone_calls`</li><li>`snail_mail`</li><li>`in_vehicle_messages`</li><li>`in_home_messages`</li><li>`iot`</li><li>`social_media`</li></ul> |
| `xdm:timestamp` | An ISO 8601 timestamp of when the opt-out preference changed, if applicable. |
| `xdm:basisOfProcessing` | In some circumstances, customers do not have be prompted to provide consent for personalization. `xdm:basisOfProcessing` must be included in the opt-out object in these cases, indicating the reason why a consent prompt was not provided. Accepted values include: <ul><li>`consent`</li><li>`legitimate_interest`</li><li>`contract`</li><li>`vital_interest`</li><li>`compliance`</li><li>`public_interest`</li></ul>  |


### xdm:marketingPreferences

`xdm:marketingPreferences` captures customer preferences regarding what marketing purposes their data can be used for. Users can opt out of specific marketing use cases, or opt out of direct marketing entirely.

```json
"xdm:marketingPreferences": {
     "xdm:default": {
        "xdm:choice": "unknown"
     },
     "xdm:details": [
        {
           "xdm:type": "email",
           "xdm:choice": "in",
           "xdm:subscriptions": {
              "weekly_mailer": {
                 "xdm:choice": "out",
                 "xdm:timestamp": "2019-02-03T15:52:25+00:00"
              },
              "daily_newsletter": {
                 "xdm:choice": "pending"
              }
           }
        },
        {
           "xdm:type": "iot",
           "xdm:choice": "out",
           "xdm:timestamp": "2019-01-01T15:52:25+00:00",
           "xdm:basisOfProcessing": "legitimate_interest",
           "xdm:subscriptions": {
              "out_of_milk": {
                 "xdm:choice": "in"
              }
           }
        }
     ]
  }
```

| Property | Description |
| --- | --- |
| `xdm:default` | The data provided in this object represents the customer's preferences for direct marketing as a whole. |
| `xdm:details` | An array of objects, one for each specific marketing type that the customer has provided preferences for. |
| `xdm:choice` | The customer-provided consent preference for marketing in general, or a specific marketing use, depending on whether it is provided under `xdm:default` or `xdm:details`, respectively. Accepted values include: <ul><li>`not_provided`</li><li>`pending`</li><li>`in`</li><li>`out`</li><li>`unknown`</li><li>`not_applicable`</li></ul> |
| `xdm:subscriptions` | An object whose keys represent company-specific subscriptions, such as mailing lists or newsletters. Each subscription object should in turn contain an `xdm:choice` value for the subscription in question. |
| `xdm:type` | Objects in the `xdm:details` array must provide this field to indicate the specific marketing use the customer is providing consent data for. Available types include: <ul><li>`email`</li><li>`push_notifications`</li><li>`in_app_messages`</li><li>`sms`</li><li>`phone_calls`</li><li>`snail_mail`</li><li>`in_vehicle_messages`</li><li>`in_home_messages`</li><li>`iot`</li><li>`social_media`</li></ul> |
| `xdm:timestamp` | An ISO 8601 timestamp of when the opt-out preference changed, if applicable. |
| `xdm:basisOfProcessing` | In some circumstances, customers do not have be prompted to provide consent for direct marketing. `xdm:basisOfProcessing` must be included in the opt-out object in these cases, indicating the reason why a consent prompt was not provided. Accepted values include: <ul><li>`consent`</li><li>`legitimate_interest`</li><li>`contract`</li><li>`vital_interest`</li><li>`compliance`</li><li>`public_interest`</li></ul>  |

## Ingesting consent data using the mixin

In order to use the Privacy Consent mixin to ingest consent data from your customers, you must add the mixin to a new or existing schema, and create a dataset based on that schema.

See the tutorial on [creating a schema in the UI](http://www.adobe.com/go/xdm-schema-editor-tutorial-en) for steps on how to add mixins to a schema. The Privacy Consent mixin is compatible with schemas based on the classes XDM Individual Profile or XDM ExperienceEvent.

Once you have created a schema containing the Privacy Consent mixin, refer to the the section on [creating a dataset](https://docs.adobe.com/content/help/en/experience-platform/catalog/datasets/user-guide.html#create) in the dataset user guide, following the steps to create a dataset with an existing schema.

>**IMPORTANT**:
>
>If you want to send consent data to Real-time Customer Profile, it is required that you create a Profile-enabled schema based on the XDM Individual Profile class that contains the Privacy Consent mixin. The dataset that you create based on that schema must also be enabled for Profile. Refer to the tutorials above for specific steps related to Real-time Customer Profile requirements.

## Appendix

The section below provides additional reference information regarding the Privacy Consent mixin.

### Full Privacy Consent schema

The following JSON represents the full Privacy Consent schema as it appears in the Schema Registry:

```json
{
   "meta:license":[
      "Copyright 2019 Adobe Systems Incorporated. All rights reserved.",
      "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
      "you may not use this file except in compliance with the License. You may obtain a copy",
      "of the License at https://creativecommons.org/licenses/by/4.0/"
   ],
   "$id":"https://ns.adobe.com/xdm/context/consent-preferences",
   "$schema":"http://json-schema.org/draft-06/schema#",
   "title":"Privacy/Marketing Preferences (Consent)",
   "description":"This schema captures privacy, personalization and marketing preferences (consents).",
   "type":"object",
   "meta:extensible":true,
   "meta:abstract":true,
   "definitions":{
      "consentValue": {
         "type": "string",
         "enum": [
            "not_provided",
            "pending",
            "in",
            "out",
            "unknown",
            "not_applicable"
         ],
         "meta:enum": {
            "not_provided": "Not provided",
            "pending": "Pending verification",
            "in": "Opt-in",
            "out": "Opt-out",
            "unknown":"Unknown",
            "not_applicable":"Not Applicable"
         }
      },
      "basisOfProcessing": {
         "title": "Basis Of Processing",
         "type": "string",
         "description": "Basis of Processing",
         "enum": [
            "consent",
            "legitimate_interest",
            "contract",
            "vital_interest",
            "compliance",
            "public_interest"
         ],
         "meta:enum": {
            "consent": "User Consent",
            "legitimate_interest": "Legitimate Interest",
            "contract": "Contract",
            "vital_interest": "Vital Interest of the Individual",
            "compliance": "Compliance with a Legal Obligation",
            "public_interest": "Public Interest"
         }
      },
      "timestamp": {
         "title": "Preference timestamp",
         "description": "Timestamp of this specific opt out or preference.",
         "type": "string",
         "format": "date-time"
      },
      "consent-preferences": {
         "properties":{
            "xdm:privacyOptOuts":{
               "title":"Privacy Preferences",
               "description":"Encapsulates data privacy preferences.",
               "type":"array",
               "items":{
                  "type":"object",
                  "properties":{
                     "xdm:optOutType":{
                        "title":"Opt-out type",
                        "type":"string",
                        "description":"The type of user permission.",
                        "enum":[
                           "general_opt_out",
                           "sales_sharing_opt_out",
                           "anonymous_analysis",
                           "pseudonymous_analysis",
                           "device_linking"
                        ],
                        "meta:enum":{
                           "general_opt_out":"General opt-out",
                           "sales_sharing_opt_out":"Sales/sharing opt-out",
                           "anonymous_analysis":"Anonymous Analysis",
                           "pseudonymous_analysis":"Pseudonymous Analysis",
                           "device_linking":"Device Linking"
                        }
                     },

                     "xdm:optOutValue": {
                        "title":"Opt Out Value",
                        "description": "The value of the specific opt out.",
                        "$ref": "#/definitions/consentValue"
                     },
                     "xdm:basisOfProcessing":{
                        "$ref": "#/definitions/basisOfProcessing"
                     },
                     "xdm:timestamp": {
                        "$ref": "#/definitions/timestamp"
                     }
                  }
               }
            },
            "xdm:personalizationPreferences":{
               "title":"Personalization Preferences",
               "description":"User's Personalization Preferences",
               "type":"object",
               "properties": {
                  "xdm:default": {
                     "title": "Global Personalization Preferences",
                     "description": "User's Default Personalization Preference",
                     "type": "object",
                     "properties": {
                        "xdm:choice": {
                           "title":"Default Personalization Preferences Value",
                           "description": "The default value for personalization",
                           "$ref": "#/definitions/consentValue"
                        },
                        "xdm:basisOfProcessing":{
                           "$ref": "#/definitions/basisOfProcessing"
                        },
                        "xdm:timestamp": {
                           "$ref": "#/definitions/timestamp"
                        }
                     }
                  },
                  "xdm:details":{
                     "title":"Itemized Personalization Preferences",
                     "description":"Preferences for specific types of personalization",
                     "type": "array",
                     "items": {
                        "type": "object",
                        "properties": {
                           0
                              "meta:enum": {
                                 "content": "Personalize Content",
                                 "in_app": "Personalize In App Messages",
                                 "offers": "Personalize Offers",
                                 "email": "Personalize eMail",
                                 "snail_mail": "Personalize Regular Mail",
                                 "phone_calls": "Personalize Phone Calls",
                                 "push_notifications": "Personalize Push Notifications",
                                 "sms": "Personalize SMS",
                                 "customer_support": "Personalize Customer Support",
                                 "in_store": "Personalize In Store",
                                 "in_vehicle": "Personalize In Vehicle",
                                 "in_home": "Personalize In Home",
                                 "iot": "Personalize IoT",
                                 "social_media": "Personalize Social Media",
                                 "third_party_offers": "Personalize Third-party Offers",
                                 "third_party_content": "Personalize Third-party Content",
                                 "ads": "Personalize My Business's Ads on Other Sites"
                              }
                           },
                           "xdm:choice": {
                              "title":"Personalization Preference Value",
                              "description": "The value for this specific personalization preference",
                              "$ref": "#/definitions/consentValue"
                           },
                           "xdm:basisOfProcessing":{
                              "$ref": "#/definitions/basisOfProcessing"
                           },
                           "xdm:timestamp": {
                              "$ref": "#/definitions/timestamp"
                           }
                        }
                     }
                  }
               }
            },
            "xdm:marketingPreferences":{
               "title":"Marketing Preferences",
               "description":"User's Direct Marketing Preferences",
               "type":"object",
               "properties": {
                  "xdm:default": {
                     "title": "Default Direct Marketing Preference",
                     "description": "User's Default Marketing Preference",
                     "type": "object",
                     "properties": {
                        "xdm:choice": {
                           "title":"Default Marketing Preferences Value",
                           "description": "The default value for direct marketing preferences",
                           "$ref": "#/definitions/consentValue"
                        },
                        "xdm:basisOfProcessing":{
                           "$ref": "#/definitions/basisOfProcessing"
                        },
                        "xdm:timestamp": {
                           "$ref": "#/definitions/timestamp"
                        }
                     }
                  },
                  "xdm:details": {
                     "title":"Itemized Direct Marketing Preferences",
                     "description":"Preferences for specific types of direct marketing",
                     "type": "array",
                     "items": {
                        "type": "object",
                        "properties": {
                           "xdm:type": {
                              "title": "Marketing Preference",
                              "type": "string",
                              "description": "The specific marketing preference.",
                              "enum": [
                                 "email",
                                 "push_notifications",
                                 "in_app_messages",
                                 "sms",
                                 "phone_calls",
                                 "snail_mail",
                                 "in_vehicle_messages",
                                 "in_home_messages",
                                 "iot",
                                 "social_media"
                              ],
                              "meta:enum": {
                                 "email": "Receive eMail",
                                 "push_notifications": "Receive Push Notifications",
                                 "in_app_messages": "Receive In App Messages",
                                 "sms": "Receive SMS",
                                 "phone_calls": "Receive Phone Calls",
                                 "snail_mail": "Receive Regular Mail",
                                 "in_vehicle_messages": "Receive In Vehicle Messages",
                                 "in_home_messages": "Receive In Home Messages",
                                 "iot": "Receive IoT",
                                 "social_media": "Receive Social Media Messages"
                              }
                           },
                           "xdm:choice": {
                              "title":"Marketing Preference Value",
                              "description": "The value for this specific marketing preference",
                              "$ref": "#/definitions/consentValue"
                           },
                           "xdm:basisOfProcessing":{
                              "$ref": "#/definitions/basisOfProcessing"
                           },
                           "xdm:timestamp": {
                              "$ref": "#/definitions/timestamp"
                           },
                           "xdm:subscriptions": {
                              "title": "Company-specific subscriptions",
                              "description": "Company-specific subscriptions, such as mailing lists or newsletters",
                              "type": "object",
                              "meta:xdmType": "map",
                              "additionalProperties" : {
                                 "xdm:choice": {
                                    "title": "Marketing Preference Value",
                                    "description": "The value for this specific marketing preference",
                                    "$ref": "#/definitions/consentValue"
                                 },
                                 "xdm:timestamp": {
                                    "$ref": "#/definitions/timestamp"
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            },
            "xdm:timestamp":{
               "title":"Consent Preferences timestamp",
               "description":"Timestamp of the complete set of user consent preferences.",
               "type":"string",
               "format":"date-time"
            },
            "xdm:version":{
               "title":"Preferences Version",
               "description": "Version of the Privacy Preferences Standard",
               "type":"string"
            },
            "xdm:userLocale":{
               "title":"User Locale",
               "description":"User location or jurisdiction that applies to the consents for this user",
               "type":"string"
            },
            "xdm:localeSource":{
               "title": "Locale Source",
               "description": "Method used to determine the user's locale",
               "enum":[
                  "ip",
                  "gps",
                  "user_provided",
                  "website_location",
                  "inferred",
                  "other"
               ],
               "meta:enum": {
                  "ip": "IP Address",
                  "gps": "Device GPS",
                  "user_provided": "User Provided",
                  "website_location": "Website eTDL",
                  "inferred": "Inferred",
                  "other": "Other"
               }
            }
         }
      }
   },
   "allOf":[
      {
         "$ref":"https://ns.adobe.com/xdm/common/extensible#/definitions/@context"
      },
      {
         "$ref": "#/definitions/consent-preferences"
      }
   ],
   "meta:status":"experimental"
}
```